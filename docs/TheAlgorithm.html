<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>FediAlgo Class: TheAlgorithm</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: TheAlgorithm</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>TheAlgorithm<span class="signature">(params)</span><span class="type-signature"></span></h2>
        
            <div class="class-description">Main class for scoring, sorting, and managing a Mastodon feed made of <a href="Toot.html"><code>Toot</code></a> objects.

<a href="TheAlgorithm.html"><code>TheAlgorithm</code></a> orchestrates fetching, scoring, filtering, and updating the user's timeline/feed.
It manages feature and feed scorers, trending data, filters, user weights, and background polling. Key
responsibilities:

 1. Fetches and merges toots from multiple sources (home timeline, trending, hashtags, etc.).
 2. Applies scoring algorithms and user-defined weights to rank toots.
 3. Filters the feed based on user settings and filter options.
 4. Handles background polling for new data and saving state to storage.
 5. Provides methods for updating filters, weights, and retrieving current state.
 6. Exposes utility methods for stats, server info, and tag URLs.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="TheAlgorithm"><span class="type-signature"></span>new TheAlgorithm<span class="signature">(params)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Private constructor. Use <a href="TheAlgorithm.html#.create"><code>TheAlgorithm.create</code></a> to instantiate.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type">AlgorithmArgs</span>


            
            </td>

            

            

            <td class="description last">Constructor params (API client, user, and optional timeline callback/locale).</td>
        </tr>

    
    </tbody>
</table>






    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>apiErrorMsgs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last">API error messages</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>filters</code></td>
            

            <td class="type">
            
                
<span class="param-type">FeedFilterSettings</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last">Current filter settings for the feed</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>isLoading</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last">Whether a feed load is in progress*</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lastLoadTimeInSeconds</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">Duration of the last load in seconds</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>loadingStatus</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">null</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last">String describing load activity</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timeline</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="Toot.html">Toot</a>></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last">The current filtered timeline</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>trendingData</code></td>
            

            <td class="type">
            
                
<span class="param-type">TrendingData</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last">Trending data (links, tags, servers, toots)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userData</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="UserData.html">UserData</a></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last">User data for scoring and filtering</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>weightsInfo</code></td>
            

            <td class="type">
            
                
<span class="param-type">WeightInfoDict</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last">Info about all scoring weights</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















<hr align="left" class="methodSeparator" />

    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".isDebugMode"><span class="type-signature">(static) </span>isDebugMode<span class="type-signature"></span></h4>




<div class="description">
    True if <code>FEDIALGO_DEBUG</code> environment var was set at run time.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id=".isDeepDebug"><span class="type-signature">(static) </span>isDeepDebug<span class="type-signature"></span></h4>




<div class="description">
    True if <code>FEDIALGO_DEEP_DEBUG</code> environment var was set at run time.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id=".isLoadTest"><span class="type-signature">(static) </span>isLoadTest<span class="type-signature"></span></h4>




<div class="description">
    True if <code>LOAD_TEST</code> environment var was set at run time.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id=".isQuickMode"><span class="type-signature">(static) </span>isQuickMode<span class="type-signature"></span></h4>




<div class="description">
    True if <code>QUICK_MODE</code> environment var was set at run time.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id=".weightPresets"><span class="type-signature">(static) </span>weightPresets<span class="type-signature"></span></h4>




<div class="description">
    Dictionary of preset weight configurations that can be selected from to set weights.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="getCurrentState"><span class="type-signature">(async) </span>getCurrentState<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;Record.&lt;string, any>>}</span></h4>
    

    



<div class="description">
    Return an object describing the state of the world. Mostly for debugging.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    State object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Record.&lt;string, any>></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="getRechartsStatsData"><span class="type-signature"></span>getRechartsStatsData<span class="signature">(numPercentiles)</span><span class="type-signature"> &rarr; {Array.&lt;object>}</span></h4>
    

    



<div class="description">
    Build array of objects suitable for charting timeline scoring data by quintile/decile/etc.
with <a href="https://recharts.org/">Recharts</a>.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>numPercentiles</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Number of percentiles for stats.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Recharts data points.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;object></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="getUserWeights"><span class="type-signature">(async) </span>getUserWeights<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;Weights>}</span></h4>
    

    



<div class="description">
    Return the user's current weightings for each score category.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The user's weights.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Weights></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="isGoToSocialUser"><span class="type-signature">(async) </span>isGoToSocialUser<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    True if FediAlgo user is on a GoToSocial instance instead of plain vanilla Mastodon.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="mostRecentHomeTootAgeInSeconds"><span class="type-signature"></span>mostRecentHomeTootAgeInSeconds<span class="signature">()</span><span class="type-signature"> &rarr; {number|null}</span></h4>
    

    



<div class="description">
    Return the number of seconds since the most recent home timeline <a href="Toot.html"><code>Toot</code></a>.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Age in seconds or null.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="mostRecentHomeTootAt"><span class="type-signature"></span>mostRecentHomeTootAt<span class="signature">()</span><span class="type-signature"> &rarr; {Date|null}</span></h4>
    

    



<div class="description">
    Return the timestamp of the most recent toot from followed accounts + hashtags ONLY.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The most recent toot date or null.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Date</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="refreshMutedAccounts"><span class="type-signature">(async) </span>refreshMutedAccounts<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;void>}</span></h4>
    

    



<div class="description">
    Pull the latest list of muted accounts from the server and use that to filter any newly muted
accounts out of the timeline.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;void></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="refreshTrendingData"><span class="type-signature">(async) </span>refreshTrendingData<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;TrendingData>}</span></h4>
    

    



<div class="description">
    Update <code>this.trendingData</code> with latest available data.
// TODO: this shouldn't be necessary but there's weirdness on initial load
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;TrendingData></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="reset"><span class="type-signature">(async) </span>reset<span class="signature">(complete<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;void>}</span></h4>
    

    



<div class="description">
    Clear everything from browser storage except the user's identity and weightings (unless complete is true).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>complete</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">If true, remove user data as well.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;void></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="saveTimelineToCache"><span class="type-signature">(async) </span>saveTimelineToCache<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;void>}</span></h4>
    

    



<div class="description">
    Save the current timeline to the browser storage. Used to save the state of <code>Toot.numTimesShown</code>.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;void></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="serverInfo"><span class="type-signature">(async) </span>serverInfo<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;mastodon.v2.Instance>}</span></h4>
    

    



<div class="description">
    Returns info about the Fedialgo user's home Mastodon instance.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Instance info.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;mastodon.v2.Instance></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="tagUrl"><span class="type-signature"></span>tagUrl<span class="signature">(tag)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Get the URL for a tag on the user's home instance (aka "server").
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tag</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Hashtag</span>


            
            </td>

            

            

            <td class="description last">The tag or tag object.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The tag URL.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="triggerFeedUpdate"><span class="type-signature">(async) </span>triggerFeedUpdate<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;void>}</span></h4>
    

    



<div class="description">
    Trigger the retrieval of the user's timeline from all the sources.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;void></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="triggerHomeTimelineBackFill"><span class="type-signature">(async) </span>triggerHomeTimelineBackFill<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;void>}</span></h4>
    

    



<div class="description">
    Trigger the fetching of additional earlier <a href="Toot.html"><code>Toot</code></a>s from the server.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;void></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="triggerMoarData"><span class="type-signature">(async) </span>triggerMoarData<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;void>}</span></h4>
    

    



<div class="description">
    Manually trigger the loading of "moar" user data (recent toots, favourites, notifications, etc).
Usually done by a background task on a set interval.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;void></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="triggerPullAllUserData"><span class="type-signature">(async) </span>triggerPullAllUserData<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;void>}</span></h4>
    

    



<div class="description">
    Collect **ALL** the user's history data from the server - past toots, favourites, etc.
Use with caution!
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;void></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="updateFilters"><span class="type-signature"></span>updateFilters<span class="signature">(newFilters)</span><span class="type-signature"> &rarr; {Array.&lt;<a href="Toot.html">Toot</a>>}</span></h4>
    

    



<div class="description">
    Update the feed filters and return the newly filtered feed.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>newFilters</code></td>
            

            <td class="type">
            
                
<span class="param-type">FeedFilterSettings</span>


            
            </td>

            

            

            <td class="description last">The new filter settings.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The filtered feed.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="Toot.html">Toot</a>></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="updateUserWeights"><span class="type-signature">(async) </span>updateUserWeights<span class="signature">(userWeights)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;<a href="Toot.html">Toot</a>>>}</span></h4>
    

    



<div class="description">
    Update user weightings and rescore / resort the feed.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userWeights</code></td>
            

            <td class="type">
            
                
<span class="param-type">Weights</span>


            
            </td>

            

            

            <td class="description last">The new user weights.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The filtered and rescored feed.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;<a href="Toot.html">Toot</a>>></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="updateUserWeightsToPreset"><span class="type-signature">(async) </span>updateUserWeightsToPreset<span class="signature">(presetName)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;<a href="Toot.html">Toot</a>>>}</span></h4>
    

    



<div class="description">
    Update user weightings to one of the preset values and rescore / resort the feed.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>presetName</code></td>
            

            <td class="type">
            
                
<span class="param-type">WeightPresetLabel</span>
|

<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The preset name.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The filtered and rescored feed.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;<a href="Toot.html">Toot</a>>></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id=".create"><span class="type-signature">(async, static) </span>create<span class="signature">(params)</span><span class="type-signature"> &rarr; {Promise.&lt;module:index~TheAlgorithm>}</span></h4>
    

    



<div class="description">
    Publicly callable constructor that instantiates the class and loads the feed from storage.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type">AlgorithmArgs</span>


            
            </td>

            

            

            <td class="description last">The parameters for algorithm creation.
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>api</code></td>
            

            <td class="type">
            
                
<span class="param-type">mastodon.rest.Client</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The Mastodon REST API client instance.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type">mastodon.v1.Account</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The Mastodon user account for which to build the feed.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>locale</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Optional locale string for date formatting.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>setTimelineInApp</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Optional callback to set the feed in the consuming app.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    TheAlgorithm instance.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;module:index~TheAlgorithm></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-api_errors.html">api_errors</a></li><li><a href="module-collection_helpers.html">collection_helpers</a></li><li><a href="module-enums.html">enums</a></li><li><a href="module-language_helper.html">language_helper</a></li><li><a href="module-server_side_filters.html">server_side_filters</a></li><li><a href="module-string_helpers.html">string_helpers</a></li><li><a href="module-time_helpers.html">time_helpers</a></li></ul><h3>Classes</h3><ul><li><a href="Account.html">Account</a></li><li><a href="BooleanFilter.html">BooleanFilter</a></li><li><a href="BooleanFilterOptionList.html">BooleanFilterOptionList</a></li><li><a href="Config.html">Config</a></li><li><a href="CountedList.html">CountedList</a></li><li><a href="Logger.html">Logger</a></li><li><a href="MastoApi.html">MastoApi</a></li><li><a href="MastodonServer.html">MastodonServer</a></li><li><a href="NumericFilter.html">NumericFilter</a></li><li><a href="Scorer.html">Scorer</a></li><li><a href="TagList.html">TagList</a></li><li><a href="TheAlgorithm.html">TheAlgorithm</a></li><li><a href="Toot.html">Toot</a></li><li><a href="TootFilter.html">TootFilter</a></li><li><a href="UserData.html">UserData</a></li><li><a href="module-time_helpers-AgeIn.html">AgeIn</a></li><li><a href="module-time_helpers-WaitTime.html">WaitTime</a></li></ul><h3>Global</h3><ul><li><a href="global.html#FILTER_OPTION_DATA_SOURCES">FILTER_OPTION_DATA_SOURCES</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun Oct 19 2025 15:11:05 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>FediAlgo Class: UserData</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: UserData</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>UserData<span class="signature">()</span><span class="type-signature"></span></h2>
        
            <div class="class-description">Represents background and scoring-related data about the current Fedialgo user.
Used as a central source of user context for scoring, filtering, and personalization.

This class aggregates and manages user-related data such as favourited accounts, followed tags,
muted accounts, languages posted in, and server-side filters. It provides methods to build user data
from the Mastodon API or from raw API data, and supports updating, counting, and filtering operations
for use in scoring and filtering algorithms.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="UserData"><span class="type-signature"></span>new UserData<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>blockedDomains</code></td>
            

            <td class="type">
            
                
<span class="param-type">Set.&lt;string></span>


            
            </td>

            

            

            <td class="description last">Set of domains the user has blocked.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>favouriteAccounts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="BooleanFilterOptionList.html">BooleanFilterOptionList</a></span>


            
            </td>

            

            

            <td class="description last">Accounts the user has favourited, retooted, or replied to.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>favouritedTags</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="TagList.html">TagList</a></span>


            
            </td>

            

            

            <td class="description last">List of tags the user has favourited.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>followedAccounts</code></td>
            

            <td class="type">
            
                
<span class="param-type">StringNumberDict</span>


            
            </td>

            

            

            <td class="description last">Dictionary of accounts the user follows, keyed by account name.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>followedTags</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="TagList.html">TagList</a></span>


            
            </td>

            

            

            <td class="description last">List of tags the user follows.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>isRetooter</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">True if the user is primarily a retooter (retootPct above configured threshold).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>languagesPostedIn</code></td>
            

            <td class="type">
            
                
<span class="param-type">ObjList</span>


            
            </td>

            

            

            <td class="description last">List of languages the user has posted in, with usage counts.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mutedAccounts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Record.&lt;string, <a href="Account.html">Account</a>></span>


            
            </td>

            

            

            <td class="description last">Dictionary of accounts the user has muted or blocked, keyed by Account["webfingerURI"].</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mutedKeywordsRegex</code></td>
            

            <td class="type">
            
                
<span class="param-type">RegExp</span>


            
            </td>

            

            

            <td class="description last">Cached regex for muted keywords, built from server-side filters.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>participatedTags</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="TagList.html">TagList</a></span>


            
            </td>

            

            

            <td class="description last">List of tags the user has participated in.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>preferredLanguage</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The user's preferred language (ISO code).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>serverSideFilters</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;mastodon.v2.Filter></span>


            
            </td>

            

            

            <td class="description last">Array of server-side filters set by the user.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















<hr align="left" class="methodSeparator" />

    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="hasNewestApiData"><span class="type-signature">(async) </span>hasNewestApiData<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;boolean>}</span></h4>
    

    



<div class="description">
    If there's newer data in the cache the data is not fresh.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    True if UserData object was created after the last updatedAt in Storage.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;boolean></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id=".build"><span class="type-signature">(async, static) </span>build<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;module:api/user_data~UserData>}</span></h4>
    

    



<div class="description">
    Alternate constructor for the UserData object to build itself from the API (or cache).
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    UserData instance populated with the user's data.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;module:api/user_data~UserData></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id=".buildFromData"><span class="type-signature">(static) </span>buildFromData<span class="signature">(data)</span><span class="type-signature"> &rarr; {module:api/user_data~UserData}</span></h4>
    

    



<div class="description">
    Alternate constructor to build UserData from API data.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">UserApiData</span>


            
            </td>

            

            

            <td class="description last">The raw API data to build the UserData from.
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>blockedDomains</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">Domains the user has blocked.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>favouritedToots</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="Toot.html">Toot</a>></span>


            
            </td>

            

            

            <td class="description last">Toots the user has favourited.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>followedAccounts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="Account.html">Account</a>></span>


            
            </td>

            

            

            <td class="description last">Accounts the user follows.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>followedTags</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;TagWithUsageCounts></span>


            
            </td>

            

            

            <td class="description last">Tags the user follows, with usage counts.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mutedAccounts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="Account.html">Account</a>></span>


            
            </td>

            

            

            <td class="description last">Accounts the user has muted.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>recentToots</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="Toot.html">Toot</a>></span>


            
            </td>

            

            

            <td class="description last">Recent toots by the user.*</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>serverSideFilters</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;mastodon.v2.Filter></span>


            
            </td>

            

            

            <td class="description last">Server-side filters set by the user.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A new UserData instance populated with the provided data.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">module:api/user_data~UserData</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id=".getMutedKeywords"><span class="type-signature">(async, static) </span>getMutedKeywords<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;string>>}</span></h4>
    

    



<div class="description">
    Get an array of keywords the user has muted on the server side
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    An array of muted keywords.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;string>></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id=".getMutedKeywordsRegex"><span class="type-signature">(async, static) </span>getMutedKeywordsRegex<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;RegExp>}</span></h4>
    

    



<div class="description">
    Build a regex that matches any of the user's muted keywords.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A RegExp that matches any of the user's muted keywords.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;RegExp></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-api_errors.html">api_errors</a></li><li><a href="module-collection_helpers.html">collection_helpers</a></li><li><a href="module-enums.html">enums</a></li><li><a href="module-server_side_filters.html">server_side_filters</a></li><li><a href="module-string_helpers.html">string_helpers</a></li><li><a href="module-time_helpers.html">time_helpers</a></li></ul><h3>Classes</h3><ul><li><a href="Account.html">Account</a></li><li><a href="BooleanFilter.html">BooleanFilter</a></li><li><a href="BooleanFilterOptionList.html">BooleanFilterOptionList</a></li><li><a href="Config.html">Config</a></li><li><a href="CountedList.html">CountedList</a></li><li><a href="Logger.html">Logger</a></li><li><a href="MastoApi.html">MastoApi</a></li><li><a href="MastodonServer.html">MastodonServer</a></li><li><a href="NumericFilter.html">NumericFilter</a></li><li><a href="Scorer.html">Scorer</a></li><li><a href="TagList.html">TagList</a></li><li><a href="TheAlgorithm.html">TheAlgorithm</a></li><li><a href="Toot.html">Toot</a></li><li><a href="TootFilter.html">TootFilter</a></li><li><a href="UserData.html">UserData</a></li><li><a href="module-time_helpers-WaitTime.html">WaitTime</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Mon Sep 01 2025 15:26:23 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
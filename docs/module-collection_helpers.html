<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>FediAlgo Module: collection_helpers</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: collection_helpers</h1>

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Various helper methods for dealing with collections (arrays, objects, etc.)</div>
        

        
            















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















<hr align="left" class="methodSeparator" />

        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="~addDicts"><span class="type-signature">(inner) </span>addDicts<span class="signature">(&hellip;dicts)</span><span class="type-signature"> &rarr; {StringNumberDict}</span></h4>
    

    



<div class="description">
    Adds up an arbitrary number of StringNumberDicts, returning a new dict.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dicts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;StringNumberDict></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last">Dictionaries to sum.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The summed dictionary.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">StringNumberDict</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~asOptionalArray"><span class="type-signature">(inner) </span>asOptionalArray<span class="signature">(value)</span><span class="type-signature"> &rarr; {ArArray}</span></h4>
    

    



<div class="description">
    Returns an array containing the value if defined, otherwise an empty array.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">T</span>
|

<span class="param-type">undefined</span>
|

<span class="param-type">null</span>


            
            </td>

            

            

            <td class="description last">The value to wrap.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The optional array.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">ArArray</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~atLeastValues"><span class="type-signature">(inner) </span>atLeastValues<span class="signature">(obj, minValue)</span><span class="type-signature"> &rarr; {StringNumberDict}</span></h4>
    

    



<div class="description">
    Returns a new object with only the key/value pairs that have a value greater than minValue.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>obj</code></td>
            

            <td class="type">
            
                
<span class="param-type">StringNumberDict</span>


            
            </td>

            

            

            <td class="description last">The input dictionary.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>minValue</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The minimum value to include.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The filtered dictionary.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">StringNumberDict</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~average"><span class="type-signature">(inner) </span>average<span class="signature">(values)</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Calculates the average of an array of numbers, ignoring null/undefined completely.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>values</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>


            
            </td>

            

            

            <td class="description last">The array of numbers.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The average, or NaN if the array is empty.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~batchMap"><span class="type-signature">(async, inner) </span>batchMap<span class="signature">(array, fxn, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;any>>}</span></h4>
    

    



<div class="description">
    Processes an array asynchronously in batches.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The array to process.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fxn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The async function to apply.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Batch options.
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>batchSize</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Batch size.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>logger</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Logger.html">Logger</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Logger instance.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sleepBetweenMS</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Sleep between batches in ms.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The results of mapping items with fxn().
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;any>></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~checkUniqueRows"><span class="type-signature">(inner) </span>checkUniqueRows<span class="signature">(array, logger)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Checks if the elements of an array have unique IDs and logs a warning if not.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;ApiObjWithID></span>


            
            </td>

            

            

            <td class="description last">Array of objects with IDs.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>logger</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Logger.html">Logger</a></span>


            
            </td>

            

            

            <td class="description last">Logger to use for warnings.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~computeMinMax"><span class="type-signature">(inner) </span>computeMinMax<span class="signature">(array, valueFxn)</span><span class="type-signature"> &rarr; {Optional.&lt;MinMax>}</span></h4>
    

    



<div class="description">
    Computes the minimum and maximum values from an array using a value function.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            

            

            <td class="description last">The array to process.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>valueFxn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">Function to extract value.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The min and max values, or null if array is empty.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Optional.&lt;MinMax></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~countValues"><span class="type-signature">(inner) </span>countValues<span class="signature">(items, getKey<span class="signature-attributes">opt</span>, countNulls<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {StringNumberDict}</span></h4>
    

    



<div class="description">
    Returns a dictionary keyed by the result of getKey() with the count of each key.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>items</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The items to count.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>getKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Function to get key.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>countNulls</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Whether to count null keys.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The counts dictionary.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">StringNumberDict</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~decrementCount"><span class="type-signature">(inner) </span>decrementCount<span class="signature">(counts, k<span class="signature-attributes">opt</span>, increment<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {StringNumberDict}</span></h4>
    

    



<div class="description">
    Decrements the count for a key in a dictionary.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>counts</code></td>
            

            <td class="type">
            
                
<span class="param-type">StringNumberDict</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The counts dictionary.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>k</code></td>
            

            <td class="type">
            
                
<span class="param-type">CountKey</span>
|

<span class="param-type">null</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The key to decrement.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>increment</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    1
                
                </td>
            

            <td class="description last">The decrement amount.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The updated dictionary.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">StringNumberDict</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~filterWithLog"><span class="type-signature">(inner) </span>filterWithLog<span class="signature">(array, filterFxn, logger, reason, objType<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Array.&lt;T>}</span></h4>
    

    



<div class="description">
    Filters an array and logs the number of elements removed.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The array to filter.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>filterFxn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The filter function.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>logger</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Logger.html">Logger</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Logger instance.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>reason</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Reason for filtering.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>objType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Object type for logging.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The filtered array.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;T></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~findMinMaxId"><span class="type-signature">(inner) </span>findMinMaxId<span class="signature">(array)</span><span class="type-signature"> &rarr; {MinMaxID|null}</span></h4>
    

    



<div class="description">
    Finds the minimum and maximum 'id' property in an array of objects that have an 'id' property.
Find the minimum 'id' property in an array of objects that have an 'id' property.
TODO: Note that this isn't always safe to use - there can be outliers in the data that result in
the minimum ID in a set of toots being wildly out of step with the rest of the IDs.
If that happens trying to use the min ID as the maxId param for a fetch will fail (no results).
This is an unfixable server side problem that we used to work around with this:

static findMinIdForMaxIdParam(toots: Toot[]): string | null {
    if (toots.length == 0) return null;
    const idx = Math.min(toots.length - 1, MAX_ID_IDX);
    return sortByCreatedAt(toots)[idx].id;
}
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;ApiObjWithID></span>


            
            </td>

            

            

            <td class="description last">Array of objects with IDs.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The min and max IDs, or null if invalid.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">MinMaxID</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~getPromiseResults"><span class="type-signature">(async, inner) </span>getPromiseResults<span class="signature">(promises)</span><span class="type-signature"> &rarr; {Promise.&lt;PromisesResults.&lt;T>>}</span></h4>
    

    



<div class="description">
    Collates the fulfilled and rejected results from Promise.allSettled() into an easier to handle format.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>promises</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">Array of promises.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The results object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;PromisesResults.&lt;T>></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~groupBy"><span class="type-signature">(inner) </span>groupBy<span class="signature">(array, makeKey)</span><span class="type-signature"> &rarr; {Record.&lt;string, Array.&lt;T>>}</span></h4>
    

    



<div class="description">
    Groups an array by the result of makeKey().
TODO: Standard library Object.groupBy() requires some tsconfig setting that i don't understand
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            

            

            <td class="description last">The array to group.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>makeKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">Function to get group key.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The grouped object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Record.&lt;string, Array.&lt;T>></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~incrementCount"><span class="type-signature">(inner) </span>incrementCount<span class="signature">(counts, k<span class="signature-attributes">opt</span>, increment<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {StringNumberDict}</span></h4>
    

    



<div class="description">
    Increments the count for a key in a dictionary by 'increment'.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>counts</code></td>
            

            <td class="type">
            
                
<span class="param-type">StringNumberDict</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The counts dictionary.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>k</code></td>
            

            <td class="type">
            
                
<span class="param-type">CountKey</span>
|

<span class="param-type">null</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The key to increment.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>increment</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    1
                
                </td>
            

            <td class="description last">The increment amount.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The updated dictionary.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">StringNumberDict</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~isRecord"><span class="type-signature">(inner) </span>isRecord<span class="signature">(obj)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Return true if the object is a non-null object (not an array, function, etc.).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>obj</code></td>
            

            <td class="type">
            
                
<span class="param-type">unknown</span>


            
            </td>

            

            

            <td class="description last">The object to check.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    True if it's a non-null object
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~keyById"><span class="type-signature">(inner) </span>keyById<span class="signature">(array)</span><span class="type-signature"> &rarr; {Record.&lt;string, T>}</span></h4>
    

    



<div class="description">
    Builds a dictionary from an array keyed by id.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            

            

            <td class="description last">Array of objects with id property.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The keyed dictionary.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Record.&lt;string, T></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~keyByProperty"><span class="type-signature">(inner) </span>keyByProperty<span class="signature">(array, keyFxn)</span><span class="type-signature"> &rarr; {Record.&lt;string, T>}</span></h4>
    

    



<div class="description">
    Builds a dictionary from an array keyed by a property.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            

            

            <td class="description last">Array of objects.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>keyFxn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">Function to get key.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The keyed dictionary.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Record.&lt;string, T></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~makeChunks"><span class="type-signature">(inner) </span>makeChunks<span class="signature">(array, options)</span><span class="type-signature"> &rarr; {Array.&lt;Array.&lt;T>>}</span></h4>
    

    



<div class="description">
    Splits an array into chunks of a given size or number of chunks.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            

            

            <td class="description last">The array to chunk.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">Chunk options.
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>chunkSize</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Size of each chunk.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>logger</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Logger.html">Logger</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Logger instance.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>numChunks</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Number of chunks.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The array of chunks.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Array.&lt;T>></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~makePercentileChunks"><span class="type-signature">(inner) </span>makePercentileChunks<span class="signature">(array, fxn, numPercentiles)</span><span class="type-signature"> &rarr; {Array.&lt;Array.&lt;T>>}</span></h4>
    

    



<div class="description">
    Sorts an array by a function and divides into numPercentile chunks.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            

            

            <td class="description last">The array to sort and chunk.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fxn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">Function to get value.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>numPercentiles</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Number of percentiles.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The percentile chunks.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Array.&lt;T>></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~reduceToCounts"><span class="type-signature">(inner) </span>reduceToCounts<span class="signature">(objs, updateCounts)</span><span class="type-signature"> &rarr; {StringNumberDict}</span></h4>
    

    



<div class="description">
    Reduces an array to a StringNumberDict using an update function.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>objs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            

            

            <td class="description last">The array to reduce.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>updateCounts</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">Update function.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The reduced dictionary.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">StringNumberDict</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~removeKeys"><span class="type-signature">(inner) </span>removeKeys<span class="signature">(obj, keysToRemove<span class="signature-attributes">opt</span>, keysToRemoveIfFalse<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Partial.&lt;T>}</span></h4>
    

    



<div class="description">
    Removes keys from an object if their value is null or in keysToRemove array.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>obj</code></td>
            

            <td class="type">
            
                
<span class="param-type">T</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The object to clean.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>keysToRemove</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;K></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Keys to remove.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>keysToRemoveIfFalse</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;K></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Keys to remove if value is false.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The cleaned object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Partial.&lt;T></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~resolvePromiseDict"><span class="type-signature">(async, inner) </span>resolvePromiseDict<span class="signature">(dict, logger)</span><span class="type-signature"> &rarr; {Promise.&lt;Record.&lt;string, any>>}</span></h4>
    

    



<div class="description">
    Use Promise.allSettled() to resolve a dictionary of promises in parallel.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dict</code></td>
            

            <td class="type">
            
                
<span class="param-type">PromiseDict</span>


            
            </td>

            

            

            <td class="description last">Dictionary of promises to resolve.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>logger</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Logger.html">Logger</a></span>


            
            </td>

            

            

            <td class="description last">Logger instance for logging errors.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The cleaned object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Record.&lt;string, any>></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~shuffle"><span class="type-signature">(inner) </span>shuffle<span class="signature">(array)</span><span class="type-signature"> &rarr; {Array.&lt;T>}</span></h4>
    

    



<div class="description">
    Randomizes the order of an array.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            

            

            <td class="description last">The array to shuffle.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The shuffled array.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;T></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~sortKeysByValue"><span class="type-signature">(inner) </span>sortKeysByValue<span class="signature">(dict)</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    

    



<div class="description">
    Sorts the keys of a dictionary by their values in descending order.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dict</code></td>
            

            <td class="type">
            
                
<span class="param-type">StringNumberDict</span>


            
            </td>

            

            

            <td class="description last">The dictionary to sort.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The sorted keys.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~sortObjsByCreatedAt"><span class="type-signature">(inner) </span>sortObjsByCreatedAt<span class="signature">(array)</span><span class="type-signature"> &rarr; {Array.&lt;T>}</span></h4>
    

    



<div class="description">
    Sorts an array of objects by the createdAt property.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            

            

            <td class="description last">The array to sort.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The sorted array.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;T></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~sortObjsByProps"><span class="type-signature">(inner) </span>sortObjsByProps<span class="signature">(array, prop, ascending<span class="signature-attributes">opt</span>, ignoreCase<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Array.&lt;T>}</span></h4>
    

    



<div class="description">
    Sorts an array of objects by one or two properties.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The array to sort.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>prop</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Property or properties to sort by.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ascending</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>
|

<span class="param-type">Array.&lt;boolean></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Sort order(s).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ignoreCase</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Ignore case for string properties.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The sorted array.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;T></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~sortedDictString"><span class="type-signature">(inner) </span>sortedDictString<span class="signature">(dict)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Create a string representation of a dictionary with the keys sorted by their values.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dict</code></td>
            

            <td class="type">
            
                
<span class="param-type">StringNumberDict</span>


            
            </td>

            

            

            <td class="description last">The dictionary to sort and format.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The sorted dictionary as a string.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~split"><span class="type-signature">(inner) </span>split<span class="signature">(array, condition)</span><span class="type-signature"> &rarr; {Array.&lt;Array.&lt;T>>}</span></h4>
    

    



<div class="description">
    Splits an array into two arrays based on a condition.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            

            

            <td class="description last">The array to split.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>condition</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">The condition function.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The two arrays.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Array.&lt;T>></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~subtractConstant"><span class="type-signature">(inner) </span>subtractConstant<span class="signature">(dict, constant)</span><span class="type-signature"> &rarr; {StringNumberDict}</span></h4>
    

    



<div class="description">
    Subtracts a constant from all values in a dictionary.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dict</code></td>
            

            <td class="type">
            
                
<span class="param-type">StringNumberDict</span>


            
            </td>

            

            

            <td class="description last">The dictionary.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>constant</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The constant to subtract.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The updated dictionary.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">StringNumberDict</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~sumArray"><span class="type-signature">(inner) </span>sumArray<span class="signature">(array)</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Sums the elements of an array, treating null/undefined as 0.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;OptionalNumber></span>


            
            </td>

            

            

            <td class="description last">The array to sum.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The sum (0 if empty)
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~sumValues"><span class="type-signature">(inner) </span>sumValues<span class="signature">(obj)</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Sums the values of a dictionary.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>obj</code></td>
            

            <td class="type">
            
                
<span class="param-type">StringNumberDict</span>
|

<span class="param-type">Weights</span>


            
            </td>

            

            

            <td class="description last">The dictionary.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The sum.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~swapKeysAndValues"><span class="type-signature">(inner) </span>swapKeysAndValues<span class="signature">(dict)</span><span class="type-signature"> &rarr; {StringDict}</span></h4>
    

    



<div class="description">
    Swaps the keys and values of a dictionary.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dict</code></td>
            

            <td class="type">
            
                
<span class="param-type">T</span>


            
            </td>

            

            

            <td class="description last">The dictionary.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The swapped dictionary.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">StringDict</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~transformKeys"><span class="type-signature">(inner) </span>transformKeys<span class="signature">(data, transform)</span><span class="type-signature"> &rarr; {T}</span></h4>
    

    



<div class="description">
    Recursively applies a transform function to all keys in a nested object.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">T</span>


            
            </td>

            

            

            <td class="description last">The data to transform.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>transform</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">The transform function.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The transformed data.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">T</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~truncateToLength"><span class="type-signature">(inner) </span>truncateToLength<span class="signature">(array, maxRecords, logger<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Array.&lt;T>}</span></h4>
    

    



<div class="description">
    Truncates an array to a maximum length, logging if truncated.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The array to truncate.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxRecords</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The maximum length.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>logger</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Logger.html">Logger</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Logger instance.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The truncated array.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;T></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~uniquify"><span class="type-signature">(inner) </span>uniquify<span class="signature">(array)</span><span class="type-signature"> &rarr; {Array.&lt;string>|undefined}</span></h4>
    

    



<div class="description">
    Returns a new array with only unique, non-null string values.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;OptionalString></span>


            
            </td>

            

            

            <td class="description last">The array to uniquify.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The unique array or undefined if empty.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>
|

<span class="param-type">undefined</span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~uniquifyApiObjs"><span class="type-signature">(inner) </span>uniquifyApiObjs<span class="signature">(cacheKey, array, logger)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Uniquify an array of API objects by the appropriate property. This is a no-op for API objects
that don't have a property that can be used to uniquely identify them.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cacheKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">ApiCacheKey</span>


            
            </td>

            

            

            <td class="description last">The cache key to determine the unique property.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            

            

            <td class="description last">Array of API objects.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>logger</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Logger.html">Logger</a></span>


            
            </td>

            

            

            <td class="description last">Logger to use for warnings.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~uniquifyByProp"><span class="type-signature">(inner) </span>uniquifyByProp<span class="signature">(rows, transform, logPrefix<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Array.&lt;T>}</span></h4>
    

    



<div class="description">
    Removes elements of an array with duplicate values for a given property.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rows</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The array to uniquify.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>transform</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Function to get property.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>logPrefix</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Log prefix.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The uniquified array.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;T></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~zipArrays"><span class="type-signature">(inner) </span>zipArrays<span class="signature">(array1, array2)</span><span class="type-signature"> &rarr; {Record.&lt;string, T>}</span></h4>
    

    



<div class="description">
    Zips two arrays into a dictionary ([ 'a', 'b', 'c' ], [ 1, 2, 3 ] -> { a: 1, b: 2, c: 3 })
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array1</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">Keys array.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>array2</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;T></span>


            
            </td>

            

            

            <td class="description last">Values array.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The zipped dictionary.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Record.&lt;string, T></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
            

    

    
    <h4 class="name" id="~zipPromiseCalls"><span class="type-signature">(async, inner) </span>zipPromiseCalls<span class="signature">(args, promiser, logger<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;Record.&lt;string, T>>}</span></h4>
    

    



<div class="description">
    Runs a list of promises in parallel, each generated by a call to promiser(arg), and returns
a dict of results keyed by input. Raises error on isAccessTokenRevokedError(), otherwise
just logs a warning and moves on.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>args</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The keys.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>promiser</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The promise function.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>logger</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Logger.html">Logger</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Logger instance.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The results dictionary.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Record.&lt;string, T>></span>


    </dd>
</dl>

    





<hr align="left" class="methodSeparator" />

        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-api_errors.html">api_errors</a></li><li><a href="module-collection_helpers.html">collection_helpers</a></li><li><a href="module-enums.html">enums</a></li><li><a href="module-server_side_filters.html">server_side_filters</a></li><li><a href="module-string_helpers.html">string_helpers</a></li><li><a href="module-time_helpers.html">time_helpers</a></li></ul><h3>Classes</h3><ul><li><a href="Account.html">Account</a></li><li><a href="BooleanFilter.html">BooleanFilter</a></li><li><a href="BooleanFilterOptionList.html">BooleanFilterOptionList</a></li><li><a href="Config.html">Config</a></li><li><a href="CountedList.html">CountedList</a></li><li><a href="Logger.html">Logger</a></li><li><a href="MastoApi.html">MastoApi</a></li><li><a href="MastodonServer.html">MastodonServer</a></li><li><a href="NumericFilter.html">NumericFilter</a></li><li><a href="Scorer.html">Scorer</a></li><li><a href="TagList.html">TagList</a></li><li><a href="TheAlgorithm.html">TheAlgorithm</a></li><li><a href="Toot.html">Toot</a></li><li><a href="TootCacheObj.html">TootCacheObj</a></li><li><a href="TootFilter.html">TootFilter</a></li><li><a href="UserData.html">UserData</a></li><li><a href="module-time_helpers-WaitTime.html">WaitTime</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Mon Jun 23 2025 14:29:34 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
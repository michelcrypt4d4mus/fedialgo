import { mastodon } from "masto";
import Account from "./account";
import UserData from "../user_data";
import { FeedFilterSettings, MediaCategory, StatusList, TootLike, TootScore, TrendingLink, TrendingTag } from "../../types";
export interface SerializableToot extends mastodon.v1.Status {
    followedTags?: mastodon.v1.Tag[];
    isFollowed?: boolean;
    reblog?: SerializableToot | null;
    reblogsBy?: mastodon.v1.Account[];
    resolvedToot?: Toot;
    scoreInfo?: TootScore;
    trendingLinks?: TrendingLink[];
    trendingRank?: number;
    trendingTags?: TrendingTag[];
    audioAttachments?: mastodon.v1.MediaAttachment[];
    imageAttachments?: mastodon.v1.MediaAttachment[];
    videoAttachments?: mastodon.v1.MediaAttachment[];
}
interface TootObj extends SerializableToot {
    ageInHours: () => number;
    ageInSeconds: () => number;
    containsString: (str: string) => boolean;
    describe: () => string;
    homeserverURL: () => Promise<string>;
    isDM: () => boolean;
    popularity: () => number;
    realAccount: () => Account;
    realToot: () => Toot;
    realURI: () => string;
    resolve: () => Promise<Toot>;
    tootedAt: () => Date;
}
export default class Toot implements TootObj {
    id: string;
    uri: string;
    application: mastodon.v1.Application;
    account: Account;
    content: string;
    createdAt: string;
    editedAt: string | null;
    emojis: mastodon.v1.CustomEmoji[];
    favouritesCount: number;
    mediaAttachments: mastodon.v1.MediaAttachment[];
    mentions: mastodon.v1.StatusMention[];
    reblogsCount: number;
    repliesCount: number;
    sensitive: boolean;
    spoilerText: string;
    tags: mastodon.v1.Tag[];
    visibility: mastodon.v1.StatusVisibility;
    bookmarked?: boolean | null;
    card?: mastodon.v1.PreviewCard | null;
    favourited?: boolean | null;
    filtered?: mastodon.v1.FilterResult[];
    language?: string | null;
    inReplyToId?: string | null;
    inReplyToAccountId?: string | null;
    muted?: boolean | null;
    pinned?: boolean | null;
    poll?: mastodon.v1.Poll | null;
    reblog?: Toot | null;
    reblogged?: boolean | null;
    text?: string | null;
    url?: string | null;
    followedTags?: mastodon.v1.Tag[];
    isFollowed?: boolean;
    reblogsBy: Account[];
    resolvedToot?: Toot;
    scoreInfo?: TootScore;
    trendingRank?: number;
    trendingLinks?: TrendingLink[];
    trendingTags?: TrendingTag[];
    audioAttachments: mastodon.v1.MediaAttachment[];
    imageAttachments: mastodon.v1.MediaAttachment[];
    videoAttachments: mastodon.v1.MediaAttachment[];
    constructor(toot: SerializableToot);
    ageInSeconds(): number;
    ageInHours(): number;
    attachmentType(): MediaCategory | undefined;
    containsString(str: string): boolean;
    containsTagsMsg(): string | undefined;
    containsUserMention(): boolean;
    contentShortened(maxChars?: number): string;
    contentWithEmojis(fontSize?: number): string;
    describe(): string;
    homeserverURL(): Promise<string>;
    isDM(): boolean;
    isInTimeline(filters: FeedFilterSettings): boolean;
    isTrending(): boolean;
    isValidForFeed(): boolean;
    popularity(): number;
    realAccount(): Account;
    realToot(): Toot;
    realURI(): string;
    realURL(): string;
    resolve(): Promise<Toot>;
    simplifiedScoreInfo(): Record<string, number | Record<string, Record<string, number>>>;
    serialize(): SerializableToot;
    setDependentProperties(userData: UserData, trendingLinks: TrendingLink[], trendingTags: TrendingTag[]): void;
    tootedAt(): Date;
    private attachmentsOfType;
    private containsTagsOfTypeMsg;
    private isUsersOwnToot;
    private repair;
    static buildToots(statuses: mastodon.v1.Status[]): Promise<Toot[]>;
    static dedupeToots(toots: Toot[], logLabel?: string): Toot[];
    static setDependentProps(toots: Toot[]): Promise<void>;
}
export declare const tootedAt: (toot: TootLike) => Date;
export declare const earliestToot: (toots: StatusList) => TootLike | null;
export declare const mostRecentToot: (toots: StatusList) => TootLike | null;
export declare const sortByCreatedAt: (toots: StatusList) => StatusList;
export declare const earliestTootedAt: (toots: StatusList) => Date | null;
export declare const mostRecentTootedAt: (toots: StatusList) => Date | null;
export declare const minimumID: (toots: Toot[]) => number | null;
export {};
